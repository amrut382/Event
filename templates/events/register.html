{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Register - Event Booking Platform{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
<style>
    body { padding-top: 0; }
    .footer { display: none; }
</style>
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-background">
        <div class="auth-shape auth-shape-1"></div>
        <div class="auth-shape auth-shape-2"></div>
        <div class="auth-shape auth-shape-3"></div>
        <div class="auth-shape auth-shape-4"></div>
    </div>
    
    <div class="auth-card">
        <div class="auth-card-wrapper">
            <!-- Left Side - Branding -->
            <div class="auth-left">
                <div class="auth-left-content">
                    <div class="auth-logo">
                        <i class="bi bi-person-plus"></i>
                    </div>
                    <h1 class="auth-title-left">Join Us!</h1>
                    <p class="auth-subtitle-left">Create an account to start booking amazing events and manage your bookings easily.</p>
                    <div class="auth-features">
                        <div class="auth-feature-item">
                            <div class="auth-feature-icon">
                                <i class="bi bi-calendar-event"></i>
                            </div>
                            <span class="auth-feature-text">Book Events Easily</span>
                        </div>
                        <div class="auth-feature-item">
                            <div class="auth-feature-icon">
                                <i class="bi bi-bell"></i>
                            </div>
                            <span class="auth-feature-text">Get Notifications</span>
                        </div>
                        <div class="auth-feature-item">
                            <div class="auth-feature-icon">
                                <i class="bi bi-star"></i>
                            </div>
                            <span class="auth-feature-text">Exclusive Access</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Side - Registration Form -->
            <div class="auth-right">
                <div class="auth-header">
                    <h2 class="auth-title">Create Account</h2>
                    <p class="auth-subtitle">Sign up for free and start exploring</p>
                </div>
                
                <form method="post" class="auth-form" id="register-form">
                    {% csrf_token %}
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group-auth">
                                <label class="form-label-auth">
                                    <i class="bi bi-person me-2"></i>Username
                                </label>
                                <div class="input-icon-wrapper">
                                    <input type="text" name="username" class="form-control-auth" placeholder="Choose a username" required autofocus>
                                    <i class="bi bi-person input-icon"></i>
                                </div>
                                {% if form.username.errors %}
                                    <div class="error-message">
                                        <i class="bi bi-exclamation-circle"></i>
                                        {{ form.username.errors.0 }}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="form-group-auth">
                                <label class="form-label-auth">
                                    <i class="bi bi-envelope me-2"></i>Email
                                </label>
                                <div class="input-icon-wrapper">
                                    <input type="email" name="email" class="form-control-auth" placeholder="your@email.com" required>
                                    <i class="bi bi-envelope input-icon"></i>
                                </div>
                                {% if form.email.errors %}
                                    <div class="error-message">
                                        <i class="bi bi-exclamation-circle"></i>
                                        {{ form.email.errors.0 }}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group-auth">
                                <label class="form-label-auth">
                                    <i class="bi bi-lock me-2"></i>Password
                                </label>
                                <div class="input-icon-wrapper">
                                    <input type="password" name="password1" id="password1" class="form-control-auth" placeholder="Create password" required>
                                    <i class="bi bi-lock input-icon"></i>
                                    <button type="button" class="password-toggle" onclick="togglePassword('password1')">
                                        <i class="bi bi-eye" id="password1-toggle-icon"></i>
                                    </button>
                                </div>
                                {% if form.password1.errors %}
                                    <div class="error-message">
                                        <i class="bi bi-exclamation-circle"></i>
                                        {{ form.password1.errors.0 }}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="form-group-auth">
                                <label class="form-label-auth">
                                    <i class="bi bi-lock-fill me-2"></i>Confirm Password
                                </label>
                                <div class="input-icon-wrapper">
                                    <input type="password" name="password2" id="password2" class="form-control-auth" placeholder="Confirm password" required>
                                    <i class="bi bi-lock-fill input-icon"></i>
                                    <button type="button" class="password-toggle" onclick="togglePassword('password2')">
                                        <i class="bi bi-eye" id="password2-toggle-icon"></i>
                                    </button>
                                </div>
                                {% if form.password2.errors %}
                                    <div class="error-message">
                                        <i class="bi bi-exclamation-circle"></i>
                                        {{ form.password2.errors.0 }}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group-auth">
                        <label class="form-label-auth">
                            <i class="bi bi-telephone me-2"></i>Phone Number
                        </label>
                        <div class="input-icon-wrapper">
                            <input type="tel" name="phone" class="form-control-auth" placeholder="+1 234 567 8900" required>
                            <i class="bi bi-telephone input-icon"></i>
                        </div>
                        {% if form.phone.errors %}
                            <div class="error-message">
                                <i class="bi bi-exclamation-circle"></i>
                                {{ form.phone.errors.0 }}
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group-auth">
                        <label class="form-label-auth">
                            <i class="bi bi-geo-alt me-2"></i>Address
                        </label>
                        <div class="input-icon-wrapper">
                            <textarea name="address" class="form-control-auth" rows="3" placeholder="Enter your address" required style="resize: none; padding-top: 14px;"></textarea>
                            <i class="bi bi-geo-alt input-icon" style="top: 20px;"></i>
                        </div>
                        {% if form.address.errors %}
                            <div class="error-message">
                                <i class="bi bi-exclamation-circle"></i>
                                {{ form.address.errors.0 }}
                            </div>
                        {% endif %}
                    </div>
                    
                    {% if form.non_field_errors %}
                        <div class="error-message mb-3">
                            <i class="bi bi-exclamation-triangle"></i>
                            {{ form.non_field_errors.0 }}
                        </div>
                    {% endif %}
                    
                    <div class="form-group-auth">
                        <div class="captcha-wrapper">
                            <label class="form-label-auth mb-2">Security Check</label>
                            {{ form.captcha }}
                            {% if form.captcha.errors %}
                                <div class="error-message mt-2">
                                    <i class="bi bi-exclamation-circle"></i>
                                    {{ form.captcha.errors.0 }}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-auth-submit" id="register-submit">
                        <span class="btn-text">Create Account</span>
                        <i class="bi bi-arrow-right ms-2"></i>
                    </button>
                </form>
                
                <div class="auth-link">
                    Already have an account? <a href="{% url 'login' %}{% if next_url %}?next={{ next_url }}{% endif %}">Login here</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/auth.js' %}"></script>
{% endblock %}

